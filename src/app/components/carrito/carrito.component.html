<div class="card shadow-lg p-3 mb-4" style="min-height: 500px;">
  <h4 class="card-title mb-3">Carrito de Compras</h4>

  <ul *ngIf="peliculasEnCarrito.length > 0; else vacio" class="list-group list-group-flush mb-3" style="max-height: 350px; overflow-y: auto;">
    <li *ngFor="let pelicula of peliculasEnCarrito" class="list-group-item">
      <div class="d-flex align-items-center">
        
        <!-- Imagen miniatura -->
        <img [src]="pelicula.imagen" alt="{{pelicula.titulo}}" class="me-3 rounded" style="width: 60px; height: 60px; object-fit: cover;">

        <div class="flex-grow-1">
          <div class="fw-bold text-truncate" title="{{pelicula.titulo}}">{{ pelicula.titulo }}</div>
          <small class="text-muted">Precio: ${{ pelicula.precio }}</small>
        </div>

        <button class="btn btn-sm btn-danger ms-2" (click)="eliminarDelCarrito(pelicula)">
          <i class="bi bi-trash"></i> Eliminar
        </button>
      </div>
    </li>
  </ul>

  <div class="d-flex justify-content-between align-items-center mb-3 border-top pt-2">
    <strong>Total:</strong>
    <span class="fs-5">${{ calcularTotal() }}</span>
  </div>

  <button class="btn btn-success w-100 mt-3" (click)="pagar()">
    <i class="bi bi-cash-stack"></i> Pagar
  </button>

  <ng-template #vacio>
    <p class="text-muted text-center m-3">El carrito está vacío.</p>
  </ng-template>
</div>
